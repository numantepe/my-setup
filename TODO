There is some new stuff about OSC 52 suraj yank stuff so check that out
function! YankFunction() abort
  let l:text = getreg('z')
  let l:command = 'echo ' . shellescape(l:text) . ' | yank'
  let l:output = system(l:command)

  " Write the output or error to a log file
  call writefile([l:output], expand('~/yank_output.log'), 'a')

  if v:shell_error
    call writefile(['Error code: ' . v:shell_error], expand('~/yank_output.log'), 'a')
  endif
endfunction

