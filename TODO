There is some new stuff about OSC 52 suraj yank stuff so check that out

function! Yank(text) abort
  echom "Yanking text: " . a:text
  let escape = system('yank', a:text)
  if v:shell_error
    echoerr "Yank error: " . escape
  else
    call writefile([escape], '/dev/tty', 'b')
  endif
endfunction

noremap <silent> <Leader>y y:<C-U>call Yank(@0)<CR>

function! CopyYank() abort
  call Yank(join(v:event.regcontents, "\n"))
endfunction

autocmd TextYankPost * call CopyYank()
